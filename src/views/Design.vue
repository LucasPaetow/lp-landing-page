<template>
  <article class="design">
    <section class="sticky-wrapper">
      <div class="sticky-content" id="js-sticky-content">
        <div class="main-content">
          <aside class="main-content--background phase0"></aside>
          <div class="line line-vertical line1a hidden"></div>
          <div class="line line-vertical line1b hidden"></div>
          <div class="line line-horizontal line1c hidden"></div>
          <header class="main-content--headline">
            <div class="line line-vertical line2a hidden"></div>
            <div class="line line-vertical line2b hidden"></div>
            <div class="line line-horizontal line2c hidden"></div>
            <div class="line line-horizontal line2d hidden"></div>
            <h1 class="main--headline phase0 ">
              Systematic UX-Design
            </h1>
            <h1 class="main--headline skeleton phase1 hidden">
              Systematic UX-Design
            </h1>
            <h1 class="main--headline proto phase2 hidden">
              [adjective] + [Section]
            </h1>
            <p class="prototype--headline prototypes phase2 hidden">h1</p>

            <h1 class="main--headline phase3 hidden">
              Systematic UX-Design
            </h1>
          </header>

          <section class="content-summery">
            <p class="prototype--subheadline prototypes hidden">h2</p>
            <h2 class="content-summery--headline skeleton phase1 hidden">
              Understanding UX design
            </h2>
            <h2 class="content-summery--headline proto phase2 hidden">
              'Understanding' + [Section]
            </h2>
            <h2 class="content-summery--headline phase3 hidden">
              Understanding UX design
            </h2>

            <p class="prototype--body prototypes phase2">p</p>
            <p class="content-summery--text skeleton phase1 hidden">
              Because before coding, I need to research, concept and wireframe
              the product to know how everything fits together. Where and when
              the user needs guidance. But also how to create beauty, delight
              and how to foster a sense of excitement, so the user wants to
              discover every feature.
            </p>
            <p class="content-summery--text proto phase2 hidden">
              Prototext about my abilities, what I can do in terms of UX design
              and how I hope this could help a company or a startup. This should
              also, reflect an eye for design and interest in the user.
            </p>
            <p class="content-summery--text phase3 hidden">
              Because before coding, I need to research, concept and wireframe
              the product to know how everything fits together. Where and when
              the user needs guidance. But also how to create beauty, delight
              and how to foster a sense of excitement, so the user wants to
              discover every feature.
            </p>

            <div class="prototype-wrapper phase2 hidden">
              <p class="prototype--content">h4</p>
              <p class="prototype--content-headline">h3</p>
              <p class="prototype--content-text">p</p>
            </div>
            <div class="content-summery-wrapper">
              <h4 class="content-summery-wrapper--table-of-content">
                Content
              </h4>
              <ul class="content-summery--projects">
                <li
                  class="content-summery--projects__project content-summery--projects__project1"
                >
                  <h3 class="project--headline skeleton phase1 hidden">
                    T-shirt e-commerce store
                  </h3>
                  <h3 class="project--headline proto phase2 hidden">
                    [Name of the project]
                  </h3>
                  <h3 class="project--headline phase3 hidden">
                    T-shirt e-commerce store
                  </h3>
                  <p class="project--text skeleton phase1 hidden">
                    E-Commerce websites are a huge part of the web and are home
                    to a lot of good and “questionable” UX-patterns. To broaden
                    my horizon and to learn about digital psychology, I created
                    a small mockup store for ordering t-shirts.
                  </p>
                  <p class="project--text proto phase2 hidden">
                    E-Commerce websites are a huge part of the web and are home
                    to a lot of good and “questionable” UX-patterns. To broaden
                    my horizon and to learn about digital psychology, I created
                    a small mockup store for ordering t-shirts..
                  </p>
                  <p class="project--text phase3 hidden">
                    E-Commerce websites are a huge part of the web and are home
                    to a lot of good and “questionable” UX-patterns. To broaden
                    my horizon and to learn about digital psychology, I created
                    a small mockup store for ordering t-shirts.
                  </p>
                </li>
                <li
                  class="content-summery--projects__project content-summery--projects__project1"
                >
                  <h3 class="project--headline skeleton phase1 hidden">
                    Lovable Survey Creator
                  </h3>
                  <h3 class="project--headline proto phase2 hidden">
                    [Name of the project]
                  </h3>
                  <h3 class="project--headline phase3 hidden">
                    Lovable Survey Creator
                  </h3>
                  <p class="project--text skeleton phase1 hidden">
                    I started my journey into UX with a question of how to get
                    feedback and how to enhance the current feedback experience
                    for the user. As a starter project, I created a simple
                    survey generator to create beautiful and engaging
                    questionnaires the user might actually want to partake in.
                  </p>
                  <p class="project--text proto phase2 hidden">
                    I started my journey into UX with a question of how to get
                    feedback and how to enhance the current feedback experience
                    for the user. As a starter project, I created a simple
                    survey generator to create beautiful and engaging
                    questionnaires the user might actually want to partake in.
                  </p>
                  <p class="project--text phase3 hidden">
                    I started my journey into UX with a question of how to get
                    feedback and how to enhance the current feedback experience
                    for the user. As a starter project, I created a simple
                    survey generator to create beautiful and engaging
                    questionnaires the user might actually want to partake in.
                  </p>
                </li>
              </ul>
            </div>

            <div class="line line-vertical line3a hidden"></div>
            <div class="line line-vertical line3b hidden"></div>
            <div class="line line-vertical line3c hidden"></div>
            <div class="line line-vertical line3d hidden"></div>
            <div class="line line-vertical line3e hidden"></div>
            <div class="line line-vertical line3f hidden"></div>
            <div class="line line-horizontal line3g hidden"></div>
            <div class="line line-horizontal line3h hidden"></div>
            <div class="line line-horizontal line3i hidden"></div>
            <div class="line line-horizontal line3j hidden"></div>
          </section>

          <section class="content-extra-right content-section">
            <div class="content-section--content-body">
              <h2 class="content-body--headline">
                T-shirt store
              </h2>

              <div class="content-body--text-wrapper">
                <p class="content-body--text">
                  <b>Still in progress</b> A mockup e-commerce store for the
                  most-perfect t-shirt in a color the user can choose for
                  her-/himself. Relies heavily on daring copy text and engaging
                  visuals. Read the full case study on my case study website.
                </p>
                <button class="content-body--button">
                  <a> comming soon</a>
                </button>
              </div>
            </div>

            <div class="content-section--content-extra">
              <div class="extra-content-container">
                <picture>
                  <source
                    media="(max-width: 69.9em)"
                    srcset="@/assets/tshirt-store--mobile.png"
                  />
                  <source
                    media="(min-width: 70em)"
                    srcset="@/assets/tshirt-store--desktop.png"
                  />
                  <img
                    class="content-image content-image--tshirt js-image-parallax"
                    src="@/assets/tshirt-store--mobile.png"
                  />
                </picture>
              </div>
            </div>
          </section>

          <section class="content-extra-left content-section">
            <div class="content-section--content-body">
              <h2 class="content-body--headline">
                Lovable Survey Creator
              </h2>

              <div class="content-body--text-wrapper">
                <p class="content-body--text">
                  A simple survey generator to create, analyze and share
                  beautiful and engaging questionnaires. Visit my case study
                  website for an in-depth perspective or click the image to
                  visit the website.
                </p>
                <button class="content-body--button">
                  <a
                    href="https://lovable-survey-creator.firebaseapp.com"
                    rel="noopener noreferrer"
                  >
                    visit the site</a
                  >
                </button>
              </div>
            </div>

            <div class="content-section--content-extra">
              <div class="extra-content-container">
                <picture>
                  <source
                    media="(max-width: 69.9em)"
                    srcset="@/assets/feedback-app--mobile.png"
                  />
                  <source
                    media="(min-width: 70em)"
                    srcset="@/assets/feedback-app--desktop.png"
                  />
                  <img
                    class="content-image content-image--feedback js-image-parallax"
                    src="@/assets/feedback-app--mobile.png"
                  />
                </picture>
              </div>
            </div>
          </section>

          <footer class="footer">
            <router-link :to="{ name: 'home' }">Back home</router-link>
          </footer>
        </div>
      </div>
    </section>
  </article>
</template>

<script>
export default {
  name: "design",
  methods: {
    scrollWireframe() {
      let ratio = Math.max(window.scrollY) / window.innerHeight;

      //phase0
      this.phase0(ratio);

      //phase1
      this.phase1(ratio);

      //phase2
      this.phase2(ratio);

      //phase3
      this.phase3(ratio);

      //phase4
      this.phase4(ratio);

      this.parallaxImages();
    },
    phase0(ratio) {
      const phase0 = document.querySelectorAll(".phase0");

      if (ratio > 0.1) {
        phase0.forEach(item => {
          item.classList.add("hidden");
        });
      } else {
        phase0.forEach(line => {
          line.classList.remove("hidden");
        });
      }
    },
    phase1(ratio) {
      const lines = document.querySelectorAll(".line");
      const phase1 = document.querySelectorAll(".phase1");

      if (ratio > 0.5) {
        lines.forEach((line, index) => {
          line.style.transitionDelay = `${index / 20}s`;
          line.classList.remove("hidden");
        });
        phase1.forEach((item, index) => {
          item.style.transitionDelay = `${lines.length / 20 + index / 20}s`;
          item.classList.remove("hidden");
        });
      } else {
        lines.forEach(line => {
          line.classList.add("hidden");
        });
        phase1.forEach(item => {
          item.classList.add("hidden");
        });
      }
    },
    phase2(ratio) {
      const phase1 = document.querySelectorAll(".phase1");
      const phase2 = document.querySelectorAll(".phase2");
      if (ratio > 1) {
        phase1.forEach(item => {
          item.classList.add("re-hidden");
        });
        phase2.forEach((item, index) => {
          item.style.transitionDelay = `${index / 20}s`;
          item.classList.remove("hidden");
        });
      } else {
        phase1.forEach(item => {
          item.classList.remove("re-hidden");
        });
        phase2.forEach(item => {
          item.classList.add("hidden");
        });
      }
    },
    phase3(ratio) {
      const phase2 = document.querySelectorAll(".phase2");
      const phase3 = document.querySelectorAll(".phase3");
      if (ratio > 2) {
        phase2.forEach(item => {
          item.classList.add("re-hidden");
        });
        phase3.forEach((item, index) => {
          item.style.transitionDelay = `${index / 20}s`;
          item.classList.remove("hidden");
        });
      } else {
        phase2.forEach(item => {
          item.classList.remove("re-hidden");
        });
        phase3.forEach(item => {
          item.classList.add("hidden");
        });
      }
    },
    phase4(ratio) {
      const lines = document.querySelectorAll(".line");
      if (ratio > 3) {
        lines.forEach((line, index) => {
          line.style.transitionDelay = `${index / 20}s`;
          line.classList.add("re-hidden");
        });
      } else {
        lines.forEach((line, index) => {
          line.style.transitionDelay = `${index / 20}s`;
          line.classList.remove("re-hidden");
        });
      }
    },
    parallaxImages() {
      //dont use animations for mobile and tablets
      if (window.innerWidth < 1000) {
        return;
      }

      const images = document.querySelectorAll(".js-image-parallax");

      images.forEach(image => {
        let inView = image.getBoundingClientRect().top < window.innerHeight;
        let viewAmount =
          (image.getBoundingClientRect().top / window.innerHeight) * 10;

        if (!inView) {
          return;
        }
        image.style.transform = `translateY( ${viewAmount - 2}rem )`;
      });
    }
  },
  mounted() {
    window.addEventListener("scroll", this.scrollWireframe);
  },
  destroyed() {
    window.removeEventListener("scroll", this.scrollWireframe);
  }
};
</script>

<style scoped>
.design {
  /* Positioning */

  /* Box-model */
  min-height: 100%;
  /* Typography */

  /* Visual */
  background-color: var(--background-tertiary);
  /* Misc */
}

.sticky-wrapper {
  height: 700vh;
}

.sticky-content {
  position: sticky;
  width: 100%;
  top: 0;
  z-index: 5;
  overflow: hidden;
  background-color: var(--background-tertiary);
}

.sticky-background {
  grid-row: 1/3;
  grid-column: 1/4;
  background-color: var(--background-tertiary);
  position: relative;
  z-index: 2;
}

.line {
  background-color: var(--grey-600);
  position: relative;
  z-index: 7;
  opacity: 1;
}

.line-vertical {
  width: 1px;
  height: 100%;
}

.line-horizontal {
  height: 1px;
  width: 100%;
}

.hidden {
  opacity: 0;
  transition: all 0.4s var(--moving-out);
}

.re-hidden {
  opacity: 0;
  transition: all 0.4s var(--moving-out);
}

/*----------------------------------------------------*/

.main-content {
  padding: 0 0 5vh 0;
  display: grid;
  grid-auto-rows: min-content;
  grid-template-rows: calc(var(--7base) + 10vh);
  grid-template-columns: 5vw 1fr 5vw;
}

@media (min-width: 30em) {
  .main-content {
    grid-template-rows: calc(var(--7base) + 15vh);
  }
}

.main-content--background {
  background-color: var(--background-primary);
  grid-row: 1/7;
  grid-column: 1/4;
  position: relative;
  z-index: 3;
}

.main-content--headline {
  grid-row: 2/3;
  grid-column: 1/4;
  display: grid;
  grid-template-columns: 5vw 1fr 5vw;
  grid-template-rows: 5vh 1fr 5vh;
  grid-auto-rows: min-content;
  position: relative;
  z-index: 4;
}

@media (min-width: 45em) {
  .main-content--headline {
    grid-template-columns: 10vw 1fr 10vw;
  }
}

@media (min-width: 70em) {
  .main-content--headline {
    grid-template-columns: 15vw 1fr 15vw;
  }
}

.prototype--headline {
  grid-column: 1/2;
  grid-row: 2/3;
}

.main--headline {
  grid-column: 2/3;
  grid-row: 2/3;
  font-size: var(--headline);
  color: var(--design-color);
  line-height: 130%;
}

.content-section-layout:last-of-type {
  border-bottom: 1px solid var(--grey-600);
}

.content-summery {
  grid-row: 3/4;
  grid-column: 1/4;
}

.content-extra-right {
  grid-row: 4/5;
  grid-column: 1/4;
}

.content-extra-left {
  grid-row: 5/6;
  grid-column: 1/4;
}

.footer {
  display: flex;
  justify-content: center;
  align-items: flex-end;
  height: 10vh;
  grid-column: 1/4;
}

/*----------------------------------------------------*/
.content-summery {
  display: grid;
  grid-template-columns: 5vw 1fr 5vw;
  grid-template-rows: 15vh repeat(3, min-content) 15vh;
  grid-row-gap: var(--row-gap);
  background-color: var(--background-tertiary);
  border-top: 1px solid var(--grey-600);
}

@media (min-width: 45em) {
  .content-summery {
    grid-template-rows: 7.5vh repeat(3, min-content) 7.5vh;
    grid-template-columns: 5vw 1fr 1fr 5vw;
  }
}

@media (min-width: 70em) {
  .content-summery {
    grid-template-columns: 5vw 1fr 0.97fr 0.97fr 5vw;
    grid-template-rows: 15vh repeat(2, min-content) 15vh;
    grid-column-gap: 5vw;
  }
}

.content-summery--headline {
  grid-column: 2/3;
  grid-row: 2/3;
  font-size: var(--4base);
}

.prototype--subheadline {
  grid-column: 1/2;
  grid-row: 2/3;
}

.content-summery--text {
  grid-column: 2/3;
  grid-row: 3/4;
  font-size: var(--2base);
}
.prototype--body {
  grid-column: 1/2;
  grid-row: 3/4;
}

.content-summery-wrapper {
  grid-column: 2/3;
  grid-row: 4/5;
}

.prototype-wrapper {
  display: none;
}

@media (max-width: 69.9em) and (min-width: 45em) {
  .prototype-wrapper {
    grid-column: 1/2;
    grid-row: 4/5;
    display: grid;
    grid-template-rows: 6vh var(--4base) min-content;
    padding-left: 1vw;
  }
}

.content-summery-wrapper--table-of-content {
  margin-bottom: var(--thirdbase);
  font-size: var(--1base);
}

.content-summery--projects {
  background-color: var(--background-tertiary);
  border: 1px solid var(--grey-600);
  padding: 5vh 5vw;
  display: grid;
  grid-template-columns: 1fr;
  grid-row-gap: var(--5base);
}

@media (min-width: 45em) {
  .content-summery-wrapper {
    grid-column: 2/4;
  }
  .content-summery--projects {
    padding: 3vh 3vw;
    grid-template-columns: 1fr 1fr;
    grid-column-gap: var(--5base);
  }
}

@media (min-width: 70em) {
  .content-summery--headline {
    grid-column: 2/3;
    grid-row: 2/3;
    align-self: end;
  }

  .content-summery--text {
    grid-column: 2/3;
    grid-row: 3/4;
  }

  .content-summery-wrapper {
    grid-column: 3/5;
    grid-row: 3/4;
  }

  .content-summery-wrapper--table-of-content {
    display: none;
  }
  .content-summery--projects {
    border: 1px solid var(--background-tertiary);
    padding: 0vw;
    grid-column-gap: 5vw;
  }
}

.content-summery--projects__project {
  text-decoration: none;
  display: grid;
  align-self: start;
}

.project--headline {
  font-size: var(--3base);
  grid-row: 1/2;
  grid-column: 1/2;
}

.project--text {
  font-size: var(--2base);
  grid-row: 2/3;
  grid-column: 1/2;
}

@media (min-width: 70em) {
  .project--headline {
    font-size: var(--2base);
  }

  .project--text {
    font-size: var(--2base);
  }
}

/*----------------------------------------------------*/

.content-section {
  display: grid;
  grid-template-columns: 5vw 1fr 5vw;
  grid-auto-rows: min-content;
  padding: 15vh 0;
  grid-row-gap: var(--row-gap);
  background-color: var(--background-tertiary);
  border-top: 1px solid var(--grey-600);
}

@media (min-width: 45em) {
  .content-section {
    grid-template-columns: 5vw 1fr 1fr 5vw;
    grid-column-gap: var(--row-gap);
  }
}

@media (min-width: 70em) {
  .content-section {
    grid-template-columns: 5vw 1fr 1fr 1fr 5vw;
    grid-column-gap: var(--row-gap);
  }
}

.content-section--content-body {
  grid-column: 2/3;
  align-self: end;
  display: grid;
  grid-row-gap: var(--row-gap);
}

.content-body--headline {
  font-size: var(--4base);
  padding: 0;
}

.content-body--text-wrapper {
  display: grid;
  grid-row-gap: var(--halfbase);
}

.content-body--text {
  font-size: var(--2base);
}

.content-body--button {
  font-size: var(--1base);
  text-transform: uppercase;
  font-weight: bold;
  padding-bottom: var(--halfbase);
  background-color: var(--background-tertiary);
  color: var(--white);
  padding: var(--2base);
  border: 1px solid var(--grey-600);
  max-width: 60%;
  min-width: 8rem;
}

.content-body--button:active {
  transform: translateY(0.1rem);
}

.content-body--button:after {
  content: " ";
  position: absolute;
  top: 50%;
  left: 50%;
  width: 5px;
  height: 5px;
  background-color: var(--design-color);
  opacity: 0;
  border-radius: 100%;
  transform: scale(1, 1) translate(-50%);
  transform-origin: 50% 50%;
}

.content-body--button:focus:not(:active):after {
  animation: ripple 0.5s ease-out;
}

@keyframes ripple {
  0% {
    transform: scale(0, 0);
    opacity: 1;
  }
  20% {
    transform: scale(30, 20);
    opacity: 1;
  }
  100% {
    opacity: 0;
    transform: scale(80, 40);
  }
}

.content-section--content-extra {
  margin-top: var(--1base);
  grid-column: 2/3;
  min-height: 30vh;
  border: 1px solid var(--grey-600);
}

@media (min-width: 45em) {
  .content-extra-right .content-section--content-body {
    grid-column: 2/3;
  }
  .content-extra-right .content-section--content-extra {
    grid-column: 3/4;
  }
  .content-extra-left .content-section--content-body {
    grid-column: 3/4;
    grid-row: 1/2;
  }
  .content-extra-left .content-section--content-extra {
    grid-column: 2/3;
    grid-row: 1/2;
  }
}

@media (min-width: 70em) {
  .content-extra-right .content-section--content-body {
    grid-column: 2/3;
  }
  .content-extra-right .content-section--content-extra {
    grid-column: 3/5;
    min-height: 50vh;
  }
  .content-extra-left .content-section--content-body {
    grid-column: 4/5;
    grid-row: 1/2;
  }
  .content-extra-left .content-section--content-extra {
    grid-column: 2/4;
    min-height: 50vh;
    grid-row: 1/2;
  }
}

.content-section--content-extra {
  overflow: hidden;
}

.extra-content-container {
  padding: var(--fourthbase);
  display: flex;
  justify-content: center;
  align-content: center;
}

picture {
}

.content-image {
  width: 100%;
  height: auto;
  margin: auto;
}

@media (min-width: 90em) {
  picture {
    width: 80%;
    height: auto;
  }
}

/*----------------------------------------------------*/

.line1a {
  grid-column: 1/2;
  grid-row: 1/6;
  justify-self: end;
}
.line1b {
  grid-column: 3/4;
  grid-row: 1/6;
  justify-self: start;
}

.line1c {
  grid-column: 1/4;
  grid-row: 2/3;
  justify-self: start;
}

.line2a {
  grid-column: 1/2;
  grid-row: 1/4;
  justify-self: end;
  transform: scaleY(5);
  transform-origin: bottom;
}
.line2b {
  grid-column: 3/4;
  grid-row: 1/4;
  justify-self: start;
  transform: scaleY(5);
  transform-origin: bottom;
}
.line2c {
  grid-column: 1/4;
  grid-row: 2/3;
  transform: scaleX(5);
}
.line2d {
  grid-column: 1/4;
  grid-row: 2/3;
  transform: scaleX(5);
  align-self: end;
}

.line3a,
.line3b,
.line3c,
.line3d,
.line3e,
.line3f {
  display: none;
}

@media (min-width: 45em) {
  .line3b {
    display: block;
    grid-column: 2/3;
    grid-row: 1/6;
    justify-self: end;
  }
}

@media (min-width: 70em) {
  .line3a {
    display: block;
    grid-column: 2/3;
    grid-row: 1/5;
  }
  .line3b {
    display: block;
    grid-column: 2/3;
    grid-row: 1/5;
    justify-self: end;
  }
  .line3c {
    display: block;
    grid-column: 3/4;
    grid-row: 1/5;
  }
  .line3d {
    display: block;
    grid-column: 3/4;
    grid-row: 1/5;
    justify-self: end;
  }
  .line3e {
    display: block;
    grid-column: 4/5;
    grid-row: 1/5;
  }
  .line3f {
    display: block;
    grid-column: 4/5;
    grid-row: 1/5;
    justify-self: end;
  }
}

.line3g {
  grid-column: 1/4;
  grid-row: 2/3;
}
.line3h {
  grid-column: 1/4;
  grid-row: 2/3;
  align-self: end;
}
.line3i {
  grid-column: 1/4;
  grid-row: 3/4;
}
.line3j {
  grid-column: 1/4;
  grid-row: 3/4;
  align-self: end;
}

@media (min-width: 70em) {
  .line3g,
  .line3h,
  .line3i,
  .line3j {
    grid-column: 1/6;
  }
}

.skeleton {
  background-color: var(--background-primary);
  color: var(--background-primary);
}

.proto {
  color: var(--white);
}

.prototypes {
  display: none;
}

@media (min-width: 37.5em) {
  .prototypes {
    display: block;
    font-size: var(--1base);
    align-self: start;
    padding: 1vh 0 0 1vw;
  }
}

/*----------------------------------------------------*/
</style>
